<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Al Wassiya - Votre Testament Islamique Simplifié</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #C9B178;
            --primary-dark: #A89262;
            --secondary: #2D4C68;
            --accent: #3A5F7E;
            --light: #F8F5EE;
            --dark: #1E1E24;
            --success: #4CAF50;
            --error: #E74C3C;
            --radius: 16px;
            --shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #F8F5EE 0%, #E8E1CF 100%);
            color: var(--dark);
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 40px 30px;
            background: white;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, var(--primary) 0%, var(--secondary) 100%);
        }

        .logo {
            font-family: 'Playfair Display', serif;
            font-size: 2.8rem;
            color: var(--primary);
            margin-bottom: 10px;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
        }

        .subtitle {
            font-size: 1.3rem;
            color: var(--secondary);
            margin-bottom: 15px;
            font-weight: 500;
        }

        .bismillah {
            font-size: 2rem;
            margin: 25px 0;
            color: var(--accent);
            font-weight: bold;
        }

        .title {
            font-family: 'Playfair Display', serif;
            font-size: 2rem;
            color: var(--secondary);
            margin-bottom: 15px;
            letter-spacing: 0.5px;
        }

        .form-section {
            background: white;
            padding: 30px;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            margin-bottom: 30px;
        }

        .form-section h2 {
            color: var(--secondary);
            font-family: 'Playfair Display', serif;
            margin-bottom: 25px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--primary);
            font-size: 1.6rem;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--secondary);
        }

        input, select, textarea {
            width: 100%;
            padding: 14px 18px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-family: 'Poppins', sans-serif;
            font-size: 1rem;
            transition: var(--transition);
            background-color: #f9f9f9;
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(201, 177, 120, 0.2);
            background-color: #fff;
        }

        .btn-container {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 20px;
        }

        button {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 14px 28px;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        button:hover {
            background-color: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        #generatePdfBtn {
            background-color: var(--secondary);
        }

        #generatePdfBtn:hover {
            background-color: var(--accent);
        }

        .footer {
            text-align: center;
            margin-top: 50px;
            padding: 25px;
            color: var(--secondary);
            font-size: 0.9rem;
            border-top: 1px solid rgba(45, 76, 104, 0.1);
        }

        .islamic-pattern {
            background-color: var(--secondary);
            opacity: 0.1;
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: -1;
            background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23ffffff' fill-opacity='1' fill-rule='evenodd'/%3E%3C/svg%3E");
        }

        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .header, .form-section {
                padding: 20px;
            }
            
            .logo {
                font-size: 2.2rem;
            }
            
            .title {
                font-size: 1.6rem;
            }
            
            .btn-container {
                flex-direction: column;
            }
            
            button {
                width: 100%;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="islamic-pattern"></div>
            <div class="logo">Al Wassiya</div>
            <div class="subtitle">Votre Testament Islamique Simplifié</div>
            <div class="bismillah">بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ</div>
            <div class="title">TESTAMENT ISLAMIQUE (WASSIYA)</div>
            <p>Date de rédaction : <span id="current-date"></span></p>
        </div>

        <main id="main-content">
            <form id="testament-form">
                <div class="form-section">
                    <h2><i class="fas fa-user-circle"></i> Informations Personnelles</h2>
                    <div class="form-group">
                        <label for="fullname">Nom complet</label>
                        <input type="text" id="fullname" name="fullname" placeholder="Votre nom complet" required>
                    </div>
                    <div class="form-group">
                        <label for="birthdate">Date de naissance</label>
                        <input type="date" id="birthdate" name="birthdate" required>
                    </div>
                    <div class="form-group">
                        <label for="address">Adresse complète</label>
                        <textarea id="address" name="address" rows="2" placeholder="Votre adresse complète" required></textarea>
                    </div>
                </div>

                <div class="form-section">
                    <h2><i class="fas fa-users"></i> Bénéficiaires</h2>
                    <div class="form-group">
                        <label for="beneficiary1">Bénéficiaire 1 (obligatoire)</label>
                        <input type="text" id="beneficiary1" name="beneficiary1" placeholder="Nom du premier bénéficiaire" required>
                    </div>
                    <div class="form-group">
                        <label for="beneficiary2">Bénéficiaire 2 (optionnel)</label>
                        <input type="text" id="beneficiary2" name="beneficiary2" placeholder="Nom du deuxième bénéficiaire">
                    </div>
                    <div class="form-group">
                        <label for="beneficiary3">Bénéficiaire 3 (optionnel)</label>
                        <input type="text" id="beneficiary3" name="beneficiary3" placeholder="Nom du troisième bénéficiaire">
                    </div>
                </div>

                <div class="form-section">
                    <h2><i class="fas fa-scroll"></i> Dispositions</h2>
                    <div class="form-group">
                        <label for="heritage">Répartition de l'héritage</label>
                        <textarea id="heritage" name="heritage" rows="4" placeholder="Décrivez comment vous souhaitez répartir vos biens..." required></textarea>
                    </div>
                    <div class="form-group">
                        <label for="specialWishes">Souhaits particuliers (obsèques, dons, etc.)</label>
                        <textarea id="specialWishes" name="specialWishes" rows="4" placeholder="Exprimes ici tous vos souhaits particuliers..."></textarea>
                    </div>
                </div>

                <div class="form-section">
                    <h2><i class="fas fa-file-contract"></i> Validation</h2>
                    <div class="form-group">
                        <label for="witness1">Témoin 1</label>
                        <input type="text" id="witness1" name="witness1" placeholder="Nom complet du premier témoin">
                    </div>
                    <div class="form-group">
                        <label for="witness2">Témoin 2</label>
                        <input type="text" id="witness2" name="witness2" placeholder="Nom complet du deuxième témoin">
                    </div>
                    
                    <div class="btn-container">
                        <button type="submit">
                            <i class="fas fa-save"></i> Enregistrer
                        </button>
                        <button type="button" id="generatePdfBtn">
                            <i class="fas fa-file-pdf"></i> Générer le PDF
                        </button>
                    </div>
                </div>
            </form>
        </main>

        <footer class="footer">
            <p>© 2023 Al Wassiya - Tous droits réservés | Testament conforme aux principes de l'Islam</p>
        </footer>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script>
        // Afficher la date actuelle
        document.getElementById('current-date').textContent = new Date().toLocaleDateString('fr-FR', {
            year: 'numeric',
            month: 'long',
            day: 'numeric'
        });

        // Gestion de la soumission du formulaire
        document.getElementById('testament-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Simulation d'enregistrement
            const saveBtn = this.querySelector('button[type="submit"]');
            const originalText = saveBtn.innerHTML;
            
            saveBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Enregistrement...';
            saveBtn.disabled = true;
            
            setTimeout(() => {
                saveBtn.innerHTML = originalText;
                saveBtn.disabled = false;
                
                // Message de confirmation stylisé
                const confirmation = document.createElement('div');
                confirmation.style = `
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    background: var(--success);
                    color: white;
                    padding: 15px 20px;
                    border-radius: 8px;
                    box-shadow: 0 5px 15px rgba(0,0,0,0.15);
                    z-index: 1000;
                    animation: fadeIn 0.5s, fadeOut 0.5s 2.5s forwards;
                `;
                confirmation.innerHTML = '<i class="fas fa-check-circle"></i> Informations enregistrées avec succès!';
                document.body.appendChild(confirmation);
                
                // Ajout des styles d'animation
                const style = document.createElement('style');
                style.textContent = `
                    @keyframes fadeIn {
                        from { opacity: 0; transform: translateY(-20px); }
                        to { opacity: 1; transform: translateY(0); }
                    }
                    @keyframes fadeOut {
                        from { opacity: 1; transform: translateY(0); }
                        to { opacity: 0; transform: translateY(-20px); }
                    }
                `;
                document.head.appendChild(style);
                
                // Supprimer le message après l'animation
                setTimeout(() => {
                    if (document.body.contains(confirmation)) {
                        document.body.removeChild(confirmation);
                    }
                }, 3000);
            }, 1500);
        });

        // Génération du PDF
        document.getElementById('generatePdfBtn').addEventListener('click', function() {
            // Récupérer les données du formulaire
            const fullname = document.getElementById('fullname').value;
            const birthdate = document.getElementById('birthdate').value;
            const address = document.getElementById('address').value;
            const beneficiary1 = document.getElementById('beneficiary1').value;
            const beneficiary2 = document.getElementById('beneficiary2').value;
            const beneficiary3 = document.getElementById('beneficiary3').value;
            const heritage = document.getElementById('heritage').value;
            const specialWishes = document.getElementById('specialWishes').value;
            const witness1 = document.getElementById('witness1').value;
            const witness2 = document.getElementById('witness2').value;
            const date = new Date().toLocaleDateString('fr-FR');

            // Vérifier que les champs obligatoires sont remplis
            if (!fullname || !birthdate || !address || !beneficiary1 || !heritage) {
                alert('Veuillez remplir tous les champs obligatoires avant de générer le PDF.');
                return;
            }

            // Afficher un indicateur de charnement
            const generateBtn = this;
            const originalText = generateBtn.innerHTML;
            generateBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Génération...';
            generateBtn.disabled = true;

            // Initialiser jsPDF avec un léger délai pour l'UI
            setTimeout(() => {
                const { jsPDF } = window.jspdf;
                const doc = new jsPDF();

                // Ajouter le contenu au PDF
                doc.setFontSize(22);
                doc.setTextColor(201, 177, 120);
                doc.text('Al Wassiya', 105, 20, { align: 'center' });
                
                doc.setFontSize(16);
                doc.setTextColor(45, 76, 104);
                doc.text('Votre Testament Islamique Simplifié', 105, 30, { align: 'center' });
                
                doc.setFontSize(14);
                doc.setTextColor(58, 95, 126);
                doc.text('بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ', 105, 40, { align: 'center' });
                
                doc.setFontSize(18);
                doc.setTextColor(45, 76, 104);
                doc.text('TESTAMENT ISLAMIQUE (WASSIYA)', 105, 55, { align: 'center' });
                
                doc.setFontSize(12);
                doc.setTextColor(0, 0, 0);
                doc.text(`Date de rédaction : ${date}`, 105, 65, { align: 'center' });
                
                // Ligne séparatrice
                doc.setDrawColor(201, 177, 120);
                doc.line(20, 70, 190, 70);
                
                // Informations personnelles
                doc.setFontSize(14);
                doc.setTextColor(45, 76, 104);
                doc.text('INFORMATIONS PERSONNELLES', 20, 80);
                
                doc.setFontSize(12);
                doc.setTextColor(0, 0, 0);
                doc.text(`Nom complet: ${fullname}`, 20, 90);
                doc.text(`Date de naissance: ${new Date(birthdate).toLocaleDateString('fr-FR')}`, 20, 100);
                
                const addressLines = doc.splitTextToSize(`Adresse: ${address}`, 170);
                doc.text(addressLines, 20, 110);
                
                // Bénéficiaires
                let yPosition = 130;
                doc.setFontSize(14);
                doc.setTextColor(45, 76, 104);
                doc.text('BÉNÉFICIAIRES', 20, yPosition);
                
                yPosition += 10;
                doc.setFontSize(12);
                doc.setTextColor(0, 0, 0);
                doc.text(`Bénéficiaire 1: ${beneficiary1}`, 20, yPosition);
                
                if (beneficiary2) {
                    yPosition += 10;
                    doc.text(`Bénéficiaire 2: ${beneficiary2}`, 20, yPosition);
                }
                
                if (beneficiary3) {
                    yPosition += 10;
                    doc.text(`Bénéficiaire 3: ${beneficiary3}`, 20, yPosition);
                }
                
                // Dispositions
                yPosition += 20;
                doc.setFontSize(14);
                doc.setTextColor(45, 76, 104);
                doc.text('DISPOSITIONS', 20, yPosition);
                
                yPosition += 10;
                doc.setFontSize(12);
                doc.setTextColor(0, 0, 0);
                
                const heritageLines = doc.splitTextToSize(`Répartition de l'héritage: ${heritage}`, 170);
                doc.text(heritageLines, 20, yPosition);
                
                yPosition += (heritageLines.length * 6);
                
                if (specialWishes) {
                    yPosition += 10;
                    const wishesLines = doc.splitTextToSize(`Souhaits particuliers: ${specialWishes}`, 170);
                    doc.text(wishesLines, 20, yPosition);
                    yPosition += (wishesLines.length * 6);
                }
                
                // Témoins
                if (witness1 || witness2) {
                    yPosition += 15;
                    doc.setFontSize(14);
                    doc.setTextColor(45, 76, 104);
                    doc.text('TÉMOINS', 20, yPosition);
                    
                    yPosition += 10;
                    doc.setFontSize(12);
                    doc.setTextColor(0, 0, 0);
                    
                    if (witness1) {
                        doc.text(`Témoin 1: ${witness1}`, 20, yPosition);
                        yPosition += 10;
                    }
                    
                    if (witness2) {
                        doc.text(`Témoin 2: ${witness2}`, 20, yPosition);
                    }
                }
                
                // Signature
                yPosition += 30;
                doc.setDrawColor(0, 0, 0);
                doc.line(120, yPosition, 180, yPosition);
                doc.text('Signature', 150, yPosition + 10, { align: 'center' });
                
                // Sauvegarder le PDF
                doc.save(`Testament_Islamique_${fullname.replace(/\s+/g, '_')}.pdf`);
                
                // Restaurer le bouton
                generateBtn.innerHTML = originalText;
                generateBtn.disabled = false;
                
            }, 1000);
        });
    </script>
</body>
                            </html>
